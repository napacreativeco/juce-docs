<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JUCE: juce::ChildProcessCoordinator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">JUCE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>juce</b></li><li class="navelem"><a class="el" href="classjuce_1_1_child_process_coordinator.html">ChildProcessCoordinator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classjuce_1_1_child_process_coordinator-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">juce::ChildProcessCoordinator Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="juce___connected_child_process_8h_source.html">juce_ConnectedChildProcess.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjuce_1_1_child_process_coordinator_1_1_connection.html">Connection</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae87c64b4c53e519d5c1e92471f613893"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_child_process_coordinator.html#ae87c64b4c53e519d5c1e92471f613893">ChildProcessCoordinator</a> ()</td></tr>
<tr class="separator:ae87c64b4c53e519d5c1e92471f613893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f405a857db50c6ca13cce5f52bf4e8"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_child_process_coordinator.html#a59f405a857db50c6ca13cce5f52bf4e8">~ChildProcessCoordinator</a> ()</td></tr>
<tr class="separator:a59f405a857db50c6ca13cce5f52bf4e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a577bc423e513199e77563a9ae09598ea"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_child_process_coordinator.html#a577bc423e513199e77563a9ae09598ea">launchWorkerProcess</a> (const <a class="el" href="classjuce_1_1_file.html">File</a> &amp;executableToLaunch, const <a class="el" href="classjuce_1_1_string.html">String</a> &amp;commandLineUniqueID, int timeoutMs=0, int streamFlags=ChildProcess::wantStdOut|ChildProcess::wantStdErr)</td></tr>
<tr class="separator:a577bc423e513199e77563a9ae09598ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29e09516ef704f71290011e7cb0effe7"><td class="memItemLeft" align="right" valign="top"><a id="a29e09516ef704f71290011e7cb0effe7" name="a29e09516ef704f71290011e7cb0effe7"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>launchSlaveProcess</b> (const <a class="el" href="classjuce_1_1_file.html">File</a> &amp;executableToLaunch, const <a class="el" href="classjuce_1_1_string.html">String</a> &amp;commandLineUniqueID, int timeoutMs=0, int streamFlags=ChildProcess::wantStdOut|ChildProcess::wantStdErr)</td></tr>
<tr class="separator:a29e09516ef704f71290011e7cb0effe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa98c94ef58f812bf60ec29832dc2cad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_child_process_coordinator.html#aaa98c94ef58f812bf60ec29832dc2cad">killWorkerProcess</a> ()</td></tr>
<tr class="separator:aaa98c94ef58f812bf60ec29832dc2cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28ad218044c8682f9225f91b09dfcf61"><td class="memItemLeft" align="right" valign="top"><a id="a28ad218044c8682f9225f91b09dfcf61" name="a28ad218044c8682f9225f91b09dfcf61"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>killSlaveProcess</b> ()</td></tr>
<tr class="separator:a28ad218044c8682f9225f91b09dfcf61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cb60a98faf665979596f5d0ce5b5406"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_child_process_coordinator.html#a3cb60a98faf665979596f5d0ce5b5406">handleMessageFromWorker</a> (const <a class="el" href="classjuce_1_1_memory_block.html">MemoryBlock</a> &amp;)</td></tr>
<tr class="separator:a3cb60a98faf665979596f5d0ce5b5406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22c1e8138f24741c51522f8364eb3f40"><td class="memItemLeft" align="right" valign="top"><a id="a22c1e8138f24741c51522f8364eb3f40" name="a22c1e8138f24741c51522f8364eb3f40"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>handleMessageFromSlave</b> (const <a class="el" href="classjuce_1_1_memory_block.html">MemoryBlock</a> &amp;)</td></tr>
<tr class="separator:a22c1e8138f24741c51522f8364eb3f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb72a550979d3db625c922f055df1efb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_child_process_coordinator.html#abb72a550979d3db625c922f055df1efb">handleConnectionLost</a> ()</td></tr>
<tr class="separator:abb72a550979d3db625c922f055df1efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b3de09d69e1ac2ed5fa4f2af35d18f6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_child_process_coordinator.html#a4b3de09d69e1ac2ed5fa4f2af35d18f6">sendMessageToWorker</a> (const <a class="el" href="classjuce_1_1_memory_block.html">MemoryBlock</a> &amp;)</td></tr>
<tr class="separator:a4b3de09d69e1ac2ed5fa4f2af35d18f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c1dab7ed3adf6654b2a9c3a5b38fb57"><td class="memItemLeft" align="right" valign="top"><a id="a1c1dab7ed3adf6654b2a9c3a5b38fb57" name="a1c1dab7ed3adf6654b2a9c3a5b38fb57"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>sendMessageToSlave</b> (const <a class="el" href="classjuce_1_1_memory_block.html">MemoryBlock</a> &amp;mb)</td></tr>
<tr class="separator:a1c1dab7ed3adf6654b2a9c3a5b38fb57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Acts as the coordinator in a coordinator/worker pair of connected processes.</p>
<p>The <a class="el" href="classjuce_1_1_child_process_worker.html">ChildProcessWorker</a> and <a class="el" href="classjuce_1_1_child_process_coordinator.html">ChildProcessCoordinator</a> classes make it easy for an app to spawn a child process, and to manage a 2-way messaging connection to control it.</p>
<p>To use the system, you need to create subclasses of both <a class="el" href="classjuce_1_1_child_process_worker.html">ChildProcessWorker</a> and <a class="el" href="classjuce_1_1_child_process_coordinator.html">ChildProcessCoordinator</a>. When you want your coordinator process to launch the worker, you just call <a class="el" href="classjuce_1_1_child_process_coordinator.html#a577bc423e513199e77563a9ae09598ea">launchWorkerProcess()</a>, and it'll attempt to launch the executable that you specify (which may be the same exe), and assuming it has been set-up to correctly parse the command-line parameters (see <a class="el" href="classjuce_1_1_child_process_worker.html">ChildProcessWorker</a>) then a two-way connection will be created.</p>
<p>The juce demo app has a good example of this class in action.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classjuce_1_1_child_process_worker.html">ChildProcessWorker</a>, <a class="el" href="classjuce_1_1_interprocess_connection.html">InterprocessConnection</a>, <a class="el" href="classjuce_1_1_child_process.html">ChildProcess</a></dd></dl>
<p>@tags{Events} </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae87c64b4c53e519d5c1e92471f613893" name="ae87c64b4c53e519d5c1e92471f613893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae87c64b4c53e519d5c1e92471f613893">&#9670;&#160;</a></span>ChildProcessCoordinator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ChildProcessCoordinator::ChildProcessCoordinator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates an uninitialised coordinator process object. Use launchWorkerProcess to launch and connect to a child process. </p>

</div>
</div>
<a id="a59f405a857db50c6ca13cce5f52bf4e8" name="a59f405a857db50c6ca13cce5f52bf4e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59f405a857db50c6ca13cce5f52bf4e8">&#9670;&#160;</a></span>~ChildProcessCoordinator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ChildProcessCoordinator::~ChildProcessCoordinator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor. <a class="el" href="class_note.html">Note</a> that the destructor calls <a class="el" href="classjuce_1_1_child_process_coordinator.html#aaa98c94ef58f812bf60ec29832dc2cad">killWorkerProcess()</a>, but doesn't wait for the child process to finish terminating. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="abb72a550979d3db625c922f055df1efb" name="abb72a550979d3db625c922f055df1efb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb72a550979d3db625c922f055df1efb">&#9670;&#160;</a></span>handleConnectionLost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ChildProcessCoordinator::handleConnectionLost </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This will be called when the worker process dies or is somehow disconnected. The call will probably be made on a background thread, so be careful with your thread-safety! </p>

</div>
</div>
<a id="a3cb60a98faf665979596f5d0ce5b5406" name="a3cb60a98faf665979596f5d0ce5b5406"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cb60a98faf665979596f5d0ce5b5406">&#9670;&#160;</a></span>handleMessageFromWorker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ChildProcessCoordinator::handleMessageFromWorker </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classjuce_1_1_memory_block.html">MemoryBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>mb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This will be called to deliver a message from the worker process. The call will probably be made on a background thread, so be careful with your thread-safety! </p>

</div>
</div>
<a id="aaa98c94ef58f812bf60ec29832dc2cad" name="aaa98c94ef58f812bf60ec29832dc2cad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa98c94ef58f812bf60ec29832dc2cad">&#9670;&#160;</a></span>killWorkerProcess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChildProcessCoordinator::killWorkerProcess </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends a kill message to the worker, and disconnects from it. <a class="el" href="class_note.html">Note</a> that this won't wait for it to terminate. </p>

</div>
</div>
<a id="a577bc423e513199e77563a9ae09598ea" name="a577bc423e513199e77563a9ae09598ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a577bc423e513199e77563a9ae09598ea">&#9670;&#160;</a></span>launchWorkerProcess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChildProcessCoordinator::launchWorkerProcess </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classjuce_1_1_file.html">File</a> &amp;&#160;</td>
          <td class="paramname"><em>executableToLaunch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classjuce_1_1_string.html">String</a> &amp;&#160;</td>
          <td class="paramname"><em>commandLineUniqueID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeoutMs</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>streamFlags</em> = <code>ChildProcess::wantStdOut&#160;|&#160;ChildProcess::wantStdErr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempts to launch and connect to a worker process. This will start the given executable, passing it a special command-line parameter based around the commandLineUniqueID string, which must be a short alphanumeric string (no spaces!) that identifies your app. The exe that gets launched must respond by calling <a class="el" href="classjuce_1_1_child_process_worker.html#af91c21f46e434889ce6867814b36f7a9">ChildProcessWorker::initialiseFromCommandLine()</a> in its startup code, and must use a matching ID to commandLineUniqueID.</p>
<p>The timeoutMs parameter lets you specify how long the child process is allowed to go without sending a ping before it is considered to have died and <a class="el" href="classjuce_1_1_child_process_coordinator.html#abb72a550979d3db625c922f055df1efb">handleConnectionLost()</a> will be called. Passing &lt;= 0 for this timeout makes it use a default value.</p>
<p>If this all works, the method returns true, and you can begin sending and receiving messages with the worker process.</p>
<p>If a child process is already running, this will call <a class="el" href="classjuce_1_1_child_process_coordinator.html#aaa98c94ef58f812bf60ec29832dc2cad">killWorkerProcess()</a> and start a new one. </p>

</div>
</div>
<a id="a4b3de09d69e1ac2ed5fa4f2af35d18f6" name="a4b3de09d69e1ac2ed5fa4f2af35d18f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b3de09d69e1ac2ed5fa4f2af35d18f6">&#9670;&#160;</a></span>sendMessageToWorker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChildProcessCoordinator::sendMessageToWorker </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classjuce_1_1_memory_block.html">MemoryBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>mb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempts to send a message to the worker process. This returns true if the message was dispatched, but doesn't check that it actually gets delivered at the other end. If successful, the data will emerge in a call to your <a class="el" href="classjuce_1_1_child_process_worker.html#a2f2ce805bb2e7d74bdd4730f46316fb8">ChildProcessWorker::handleMessageFromCoordinator()</a>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>modules/juce_events/interprocess/<a class="el" href="juce___connected_child_process_8h_source.html">juce_ConnectedChildProcess.h</a></li>
<li>modules/juce_events/interprocess/juce_ConnectedChildProcess.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
