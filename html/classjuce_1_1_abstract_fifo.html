<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JUCE: juce::AbstractFifo Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">JUCE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>juce</b></li><li class="navelem"><a class="el" href="classjuce_1_1_abstract_fifo.html">AbstractFifo</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classjuce_1_1_abstract_fifo-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">juce::AbstractFifo Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="juce___abstract_fifo_8h_source.html">juce_AbstractFifo.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_abstract_fifo_1_1_scoped_read_write.html">ScopedReadWrite</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a69cf210cff29931a82f4f38c9e0aff73"><td class="memItemLeft" align="right" valign="top"><a id="a69cf210cff29931a82f4f38c9e0aff73" name="a69cf210cff29931a82f4f38c9e0aff73"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>ScopedRead</b> = <a class="el" href="classjuce_1_1_abstract_fifo_1_1_scoped_read_write.html">ScopedReadWrite</a>&lt; ReadOrWrite::read &gt;</td></tr>
<tr class="separator:a69cf210cff29931a82f4f38c9e0aff73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeb30a9cd56b80789387ca7954f34058"><td class="memItemLeft" align="right" valign="top"><a id="aaeb30a9cd56b80789387ca7954f34058" name="aaeb30a9cd56b80789387ca7954f34058"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>ScopedWrite</b> = <a class="el" href="classjuce_1_1_abstract_fifo_1_1_scoped_read_write.html">ScopedReadWrite</a>&lt; ReadOrWrite::write &gt;</td></tr>
<tr class="separator:aaeb30a9cd56b80789387ca7954f34058"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8ed52747d14df3080c50464eb090990d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_abstract_fifo.html#a8ed52747d14df3080c50464eb090990d">AbstractFifo</a> (int capacity) noexcept</td></tr>
<tr class="separator:a8ed52747d14df3080c50464eb090990d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6adffbde5912cceecbe80ba811365d3f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_abstract_fifo.html#a6adffbde5912cceecbe80ba811365d3f">getTotalSize</a> () const noexcept</td></tr>
<tr class="separator:a6adffbde5912cceecbe80ba811365d3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9109b0b171043de5e5737d82b520fba1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_abstract_fifo.html#a9109b0b171043de5e5737d82b520fba1">getFreeSpace</a> () const noexcept</td></tr>
<tr class="separator:a9109b0b171043de5e5737d82b520fba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2d7fdb59e50c24841f4aca905834085"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_abstract_fifo.html#ab2d7fdb59e50c24841f4aca905834085">getNumReady</a> () const noexcept</td></tr>
<tr class="separator:ab2d7fdb59e50c24841f4aca905834085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a235922bbbe2196b27464fddff198757a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_abstract_fifo.html#a235922bbbe2196b27464fddff198757a">reset</a> () noexcept</td></tr>
<tr class="separator:a235922bbbe2196b27464fddff198757a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7d88ed06fe95a4a295f30fcd741c7e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_abstract_fifo.html#ae7d88ed06fe95a4a295f30fcd741c7e0">setTotalSize</a> (int newSize) noexcept</td></tr>
<tr class="separator:ae7d88ed06fe95a4a295f30fcd741c7e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d2d68219d204ac9f8ac9b8c60e735b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_abstract_fifo.html#a49d2d68219d204ac9f8ac9b8c60e735b">prepareToWrite</a> (int numToWrite, int &amp;startIndex1, int &amp;blockSize1, int &amp;startIndex2, int &amp;blockSize2) const noexcept</td></tr>
<tr class="separator:a49d2d68219d204ac9f8ac9b8c60e735b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9efa1908ee8ec8eca0f1e18a323fb4b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_abstract_fifo.html#a9efa1908ee8ec8eca0f1e18a323fb4b0">finishedWrite</a> (int numWritten) noexcept</td></tr>
<tr class="separator:a9efa1908ee8ec8eca0f1e18a323fb4b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a810511e8ec4d9eccc85b80c77ec1dc00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_abstract_fifo.html#a810511e8ec4d9eccc85b80c77ec1dc00">prepareToRead</a> (int numWanted, int &amp;startIndex1, int &amp;blockSize1, int &amp;startIndex2, int &amp;blockSize2) const noexcept</td></tr>
<tr class="separator:a810511e8ec4d9eccc85b80c77ec1dc00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f053b222bc3c1884e60476549775208"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_abstract_fifo.html#a8f053b222bc3c1884e60476549775208">finishedRead</a> (int numRead) noexcept</td></tr>
<tr class="separator:a8f053b222bc3c1884e60476549775208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71c0105d5531a473cd8a9e609f333b13"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classjuce_1_1_abstract_fifo_1_1_scoped_read_write.html">ScopedRead</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_abstract_fifo.html#a71c0105d5531a473cd8a9e609f333b13">read</a> (int numToRead) noexcept</td></tr>
<tr class="separator:a71c0105d5531a473cd8a9e609f333b13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad365f74ec5246314ae0e05fc142e24f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classjuce_1_1_abstract_fifo_1_1_scoped_read_write.html">ScopedWrite</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjuce_1_1_abstract_fifo.html#aad365f74ec5246314ae0e05fc142e24f">write</a> (int numToWrite) noexcept</td></tr>
<tr class="separator:aad365f74ec5246314ae0e05fc142e24f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Encapsulates the logic required to implement a lock-free FIFO.</p>
<p>This class handles the logic needed when building a single-reader, single-writer FIFO.</p>
<p>It doesn't actually hold any data itself, but your FIFO class can use one of these to manage its position and status when reading or writing to it.</p>
<p>To use it, you can call <a class="el" href="classjuce_1_1_abstract_fifo.html#a49d2d68219d204ac9f8ac9b8c60e735b">prepareToWrite()</a> to determine the position within your own buffer that an incoming block of data should be stored, and <a class="el" href="classjuce_1_1_abstract_fifo.html#a810511e8ec4d9eccc85b80c77ec1dc00">prepareToRead()</a> to find out when the next outgoing block should be read from.</p>
<p>e.g. </p><div class="fragment"><div class="line"><span class="keyword">struct </span>MyFifo</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">void</span> addToFifo (<span class="keyword">const</span> <span class="keywordtype">int</span>* someData, <span class="keywordtype">int</span> numItems)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> scope = abstractFifo.write (numItems);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (scope.blockSize1 &gt; 0)</div>
<div class="line">            copySomeData (myBuffer + scope.startIndex1, someData, scope.blockSize1);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (scope.blockSize2 &gt; 0)</div>
<div class="line">            copySomeData (myBuffer + scope.startIndex2, someData, scope.blockSize2);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> readFromFifo (<span class="keywordtype">int</span>* someData, <span class="keywordtype">int</span> numItems)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> scope = abstractFifo.read (numItems);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (scope.blockSize1 &gt; 0)</div>
<div class="line">            copySomeData (someData, myBuffer + scope.startIndex1, scope.blockSize1);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (scope.blockSize2 &gt; 0)</div>
<div class="line">            copySomeData (someData + scope.blockSize1, myBuffer + scope.startIndex2, scope.blockSize2);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    AbstractFifo abstractFifo { 1024 };</div>
<div class="line">    <span class="keywordtype">int</span> myBuffer[1024];</div>
<div class="line">};</div>
</div><!-- fragment --><p>@tags{Core} </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8ed52747d14df3080c50464eb090990d" name="a8ed52747d14df3080c50464eb090990d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ed52747d14df3080c50464eb090990d">&#9670;&#160;</a></span>AbstractFifo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">juce::AbstractFifo::AbstractFifo </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>capacity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a FIFO to manage a buffer with the specified capacity. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8f053b222bc3c1884e60476549775208" name="a8f053b222bc3c1884e60476549775208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f053b222bc3c1884e60476549775208">&#9670;&#160;</a></span>finishedRead()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void juce::AbstractFifo::finishedRead </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numRead</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called after reading from the FIFO, to indicate that this many items have now been consumed. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classjuce_1_1_abstract_fifo.html#a810511e8ec4d9eccc85b80c77ec1dc00">prepareToRead</a> </dd></dl>

</div>
</div>
<a id="a9efa1908ee8ec8eca0f1e18a323fb4b0" name="a9efa1908ee8ec8eca0f1e18a323fb4b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9efa1908ee8ec8eca0f1e18a323fb4b0">&#9670;&#160;</a></span>finishedWrite()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void juce::AbstractFifo::finishedWrite </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numWritten</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called after writing from the FIFO, to indicate that this many items have been added. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classjuce_1_1_abstract_fifo.html#a49d2d68219d204ac9f8ac9b8c60e735b">prepareToWrite</a> </dd></dl>

</div>
</div>
<a id="a9109b0b171043de5e5737d82b520fba1" name="a9109b0b171043de5e5737d82b520fba1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9109b0b171043de5e5737d82b520fba1">&#9670;&#160;</a></span>getFreeSpace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int juce::AbstractFifo::getFreeSpace </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the number of items that can currently be added to the buffer without it overflowing. </p>

</div>
</div>
<a id="ab2d7fdb59e50c24841f4aca905834085" name="ab2d7fdb59e50c24841f4aca905834085"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2d7fdb59e50c24841f4aca905834085">&#9670;&#160;</a></span>getNumReady()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int juce::AbstractFifo::getNumReady </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the number of items that can currently be read from the buffer. </p>

</div>
</div>
<a id="a6adffbde5912cceecbe80ba811365d3f" name="a6adffbde5912cceecbe80ba811365d3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6adffbde5912cceecbe80ba811365d3f">&#9670;&#160;</a></span>getTotalSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int juce::AbstractFifo::getTotalSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the total size of the buffer being managed. </p>

</div>
</div>
<a id="a810511e8ec4d9eccc85b80c77ec1dc00" name="a810511e8ec4d9eccc85b80c77ec1dc00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a810511e8ec4d9eccc85b80c77ec1dc00">&#9670;&#160;</a></span>prepareToRead()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void juce::AbstractFifo::prepareToRead </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numWanted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>startIndex1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>blockSize1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>startIndex2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>blockSize2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the location within the buffer from which the next block of data should be read.</p>
<p>Because the section of data that you want to read from the buffer may overlap the end and wrap around to the start, two blocks within your buffer are returned, and you should read from both of them.</p>
<p>If the number of items you ask for is greater than the amount of data available, then blockSize1 + blockSize2 may add up to a lower value than numWanted. If this happens, you may decide to keep waiting and re-trying the method until there's enough data available.</p>
<p>After calling this method, if you choose to read the data, you must call <a class="el" href="classjuce_1_1_abstract_fifo.html#a8f053b222bc3c1884e60476549775208">finishedRead()</a> to tell the FIFO how much data you have consumed.</p>
<p>e.g. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> readFromFifo (<span class="keywordtype">int</span>* someData, <span class="keywordtype">int</span> numItems)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> start1, size1, start2, size2;</div>
<div class="line">    <a class="code hl_function" href="classjuce_1_1_abstract_fifo.html#a810511e8ec4d9eccc85b80c77ec1dc00">prepareToRead</a> (numSamples, start1, size1, start2, size2);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (size1 &gt; 0)</div>
<div class="line">        copySomeData (someData, myBuffer + start1, size1);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (size2 &gt; 0)</div>
<div class="line">        copySomeData (someData + size1, myBuffer + start2, size2);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="classjuce_1_1_abstract_fifo.html#a8f053b222bc3c1884e60476549775208">finishedRead</a> (size1 + size2);</div>
<div class="line">}</div>
<div class="ttc" id="aclassjuce_1_1_abstract_fifo_html_a810511e8ec4d9eccc85b80c77ec1dc00"><div class="ttname"><a href="classjuce_1_1_abstract_fifo.html#a810511e8ec4d9eccc85b80c77ec1dc00">juce::AbstractFifo::prepareToRead</a></div><div class="ttdeci">void prepareToRead(int numWanted, int &amp;startIndex1, int &amp;blockSize1, int &amp;startIndex2, int &amp;blockSize2) const noexcept</div><div class="ttdef"><b>Definition:</b> juce_AbstractFifo.cpp:93</div></div>
<div class="ttc" id="aclassjuce_1_1_abstract_fifo_html_a8f053b222bc3c1884e60476549775208"><div class="ttname"><a href="classjuce_1_1_abstract_fifo.html#a8f053b222bc3c1884e60476549775208">juce::AbstractFifo::finishedRead</a></div><div class="ttdeci">void finishedRead(int numRead) noexcept</div><div class="ttdef"><b>Definition:</b> juce_AbstractFifo.cpp:119</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">numWanted</td><td>indicates how many items you'd like to add to the buffer </td></tr>
    <tr><td class="paramname">startIndex1</td><td>on exit, this will contain the start index in your buffer at which your data should be written </td></tr>
    <tr><td class="paramname">blockSize1</td><td>on exit, this indicates how many items can be written to the block starting at startIndex1 </td></tr>
    <tr><td class="paramname">startIndex2</td><td>on exit, this will contain the start index in your buffer at which any data that didn't fit into the first block should be written </td></tr>
    <tr><td class="paramname">blockSize2</td><td>on exit, this indicates how many items can be written to the block starting at startIndex2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classjuce_1_1_abstract_fifo.html#a8f053b222bc3c1884e60476549775208">finishedRead</a> </dd></dl>

</div>
</div>
<a id="a49d2d68219d204ac9f8ac9b8c60e735b" name="a49d2d68219d204ac9f8ac9b8c60e735b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49d2d68219d204ac9f8ac9b8c60e735b">&#9670;&#160;</a></span>prepareToWrite()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void juce::AbstractFifo::prepareToWrite </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numToWrite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>startIndex1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>blockSize1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>startIndex2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>blockSize2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the location within the buffer at which an incoming block of data should be written.</p>
<p>Because the section of data that you want to add to the buffer may overlap the end and wrap around to the start, two blocks within your buffer are returned, and you should copy your data into the first one, with any remaining data spilling over into the second.</p>
<p>If the number of items you ask for is too large to fit within the buffer's free space, then blockSize1 + blockSize2 may add up to a lower value than numToWrite. If this happens, you may decide to keep waiting and re-trying the method until there's enough space available.</p>
<p>After calling this method, if you choose to write your data into the blocks returned, you must call <a class="el" href="classjuce_1_1_abstract_fifo.html#a9efa1908ee8ec8eca0f1e18a323fb4b0">finishedWrite()</a> to tell the FIFO how much data you actually added.</p>
<p>e.g. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> addToFifo (<span class="keyword">const</span> <span class="keywordtype">int</span>* someData, <span class="keywordtype">int</span> numItems)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> start1, size1, start2, size2;</div>
<div class="line">    <a class="code hl_function" href="classjuce_1_1_abstract_fifo.html#a49d2d68219d204ac9f8ac9b8c60e735b">prepareToWrite</a> (numItems, start1, size1, start2, size2);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (size1 &gt; 0)</div>
<div class="line">        copySomeData (myBuffer + start1, someData, size1);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (size2 &gt; 0)</div>
<div class="line">        copySomeData (myBuffer + start2, someData + size1, size2);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="classjuce_1_1_abstract_fifo.html#a9efa1908ee8ec8eca0f1e18a323fb4b0">finishedWrite</a> (size1 + size2);</div>
<div class="line">}</div>
<div class="ttc" id="aclassjuce_1_1_abstract_fifo_html_a49d2d68219d204ac9f8ac9b8c60e735b"><div class="ttname"><a href="classjuce_1_1_abstract_fifo.html#a49d2d68219d204ac9f8ac9b8c60e735b">juce::AbstractFifo::prepareToWrite</a></div><div class="ttdeci">void prepareToWrite(int numToWrite, int &amp;startIndex1, int &amp;blockSize1, int &amp;startIndex2, int &amp;blockSize2) const noexcept</div><div class="ttdef"><b>Definition:</b> juce_AbstractFifo.cpp:55</div></div>
<div class="ttc" id="aclassjuce_1_1_abstract_fifo_html_a9efa1908ee8ec8eca0f1e18a323fb4b0"><div class="ttname"><a href="classjuce_1_1_abstract_fifo.html#a9efa1908ee8ec8eca0f1e18a323fb4b0">juce::AbstractFifo::finishedWrite</a></div><div class="ttdeci">void finishedWrite(int numWritten) noexcept</div><div class="ttdef"><b>Definition:</b> juce_AbstractFifo.cpp:81</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">numToWrite</td><td>indicates how many items you'd like to add to the buffer </td></tr>
    <tr><td class="paramname">startIndex1</td><td>on exit, this will contain the start index in your buffer at which your data should be written </td></tr>
    <tr><td class="paramname">blockSize1</td><td>on exit, this indicates how many items can be written to the block starting at startIndex1 </td></tr>
    <tr><td class="paramname">startIndex2</td><td>on exit, this will contain the start index in your buffer at which any data that didn't fit into the first block should be written </td></tr>
    <tr><td class="paramname">blockSize2</td><td>on exit, this indicates how many items can be written to the block starting at startIndex2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classjuce_1_1_abstract_fifo.html#a9efa1908ee8ec8eca0f1e18a323fb4b0">finishedWrite</a> </dd></dl>

</div>
</div>
<a id="a71c0105d5531a473cd8a9e609f333b13" name="a71c0105d5531a473cd8a9e609f333b13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71c0105d5531a473cd8a9e609f333b13">&#9670;&#160;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classjuce_1_1_abstract_fifo_1_1_scoped_read_write.html">AbstractFifo::ScopedRead</a> juce::AbstractFifo::read </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numToRead</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Replaces prepareToRead/finishedRead with a single function. This function returns an object which contains the start indices and block sizes, and also automatically finishes the read operation when it goes out of scope. </p><div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> readHandle = fifo.read (4);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i != readHandle.blockSize1; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// read the item at index readHandle.startIndex1 + i</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i != readHandle.blockSize2; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// read the item at index readHandle.startIndex2 + i</span></div>
<div class="line">    }</div>
<div class="line">} <span class="comment">// readHandle goes out of scope here, finishing the read operation</span></div>
</div><!-- fragment --> 
</div>
</div>
<a id="a235922bbbe2196b27464fddff198757a" name="a235922bbbe2196b27464fddff198757a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a235922bbbe2196b27464fddff198757a">&#9670;&#160;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void juce::AbstractFifo::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Clears the buffer positions, so that it appears empty. </p>

</div>
</div>
<a id="ae7d88ed06fe95a4a295f30fcd741c7e0" name="ae7d88ed06fe95a4a295f30fcd741c7e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7d88ed06fe95a4a295f30fcd741c7e0">&#9670;&#160;</a></span>setTotalSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void juce::AbstractFifo::setTotalSize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newSize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Changes the buffer's total size. <a class="el" href="class_note.html">Note</a> that this isn't thread-safe, so don't call it if there's any danger that it might overlap with a call to any other method in this class! </p>

</div>
</div>
<a id="aad365f74ec5246314ae0e05fc142e24f" name="aad365f74ec5246314ae0e05fc142e24f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad365f74ec5246314ae0e05fc142e24f">&#9670;&#160;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classjuce_1_1_abstract_fifo_1_1_scoped_read_write.html">AbstractFifo::ScopedWrite</a> juce::AbstractFifo::write </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numToWrite</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Replaces prepareToWrite/finishedWrite with a single function. This function returns an object which contains the start indices and block sizes, and also automatically finishes the write operation when it goes out of scope. </p><div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> writeHandle = fifo.write (5);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i != writeHandle.blockSize1; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// write the item at index writeHandle.startIndex1 + i</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span> i = 0; i != writeHandle.blockSize2; ++i)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// write the item at index writeHandle.startIndex2 + i</span></div>
<div class="line">    }</div>
<div class="line">} <span class="comment">// writeHandle goes out of scope here, finishing the write operation</span></div>
</div><!-- fragment --> 
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>modules/juce_core/containers/<a class="el" href="juce___abstract_fifo_8h_source.html">juce_AbstractFifo.h</a></li>
<li>modules/juce_core/containers/juce_AbstractFifo.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
